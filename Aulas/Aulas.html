<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        // async function buscarTarefas() {
        //     const response = await fetch('https://localhost:7200/api/Tarefa',
        //         {
        //             method: "GET",
        //             headers: {
        //                 "content-type": "application/json; charset=utf-8" 
        //             }
        //         });
        //         const tarefas = response.json();
        //         return tarefas;
        //}
        // console.log(buscarTarefas());

        class Tarefa {
            constructor(id, description, isCompleted) {
                this.id = id;
                this.description = description
                this.isCompleted = isCompleted;
            }
        }


        fetch("https://localhost:7200/api/Tarefa/")
            .then(response => response.json())
            .then(tarefasJson => {
                tarefasJson.value.map((tarefa) => {
                    let tarefaClass = {
                        id: tarefa.id,
                        description: tarefa.description,
                        isCompleted: tarefa.isCompleted
                    }
                    let tarefasList = document.getElementById('tarefas')
                    let tarefaConcluida;
                    if (tarefaClass.isCompleted) {
                        tarefaConcluida = "Sim"
                    } else {
                        tarefaConcluida = "Não"
                    }
                    tarefasList.innerHTML += `<p>id: ${tarefa.id} </p>
                        <p>Description: ${tarefa.description}</p>
                        <p> Tarefa Concluída:${tarefa.isCompleted}</p>
                         <hr> `
                })
            })

    </script>
</head>

<body>
    <div id="tarefas">

    </div>
</body>

</html>